# app.py â€” ê¸ˆìš”ì¼ ê³µê¸‰ëŸ‰ ë¹„ì¤‘ ì¶”ì„¸ ë¶„ì„ (GitHub raw/XLSX ì§€ì›)
# - ê¹ƒí—ˆë¸Œ raw URLë¡œ ì—‘ì…€ ë¡œë”©
# - ì›”ë³„ ì´ê³µê¸‰ëŸ‰ ëŒ€ë¹„ 'ê¸ˆìš”ì¼ ê³µê¸‰ë¹„ì¤‘(%)' ê³„ì‚°
# - ì—°ë„ ì„ íƒ/ê³µíœ´ì¼ í¬í•¨ì—¬ë¶€ ì˜µì…˜
# - íˆíŠ¸ë§µ + ë¼ì¸ê·¸ë˜í”„ + ì—°ë„ë³„ ê¸°ìš¸ê¸°(ì¶”ì„¸) ì œê³µ

import io
import re
import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
import streamlit as st
from urllib.parse import urlparse

st.set_page_config(page_title="ê¸ˆìš”ì¼ ê³µê¸‰ëŸ‰ ë¹„ì¤‘ ì¶”ì„¸", layout="wide")
st.title("ğŸ“‰ ê¸ˆìš”ì¼ ê³µê¸‰ëŸ‰ ë¹„ì¤‘ ì¶”ì„¸ ë¶„ì„")
st.caption("ì›”ë³„ ì´ê³µê¸‰ëŸ‰ ëŒ€ë¹„ 'ê¸ˆìš”ì¼' ê³µê¸‰ëŸ‰ ë¹„ì¤‘(%)ì„ ì—°Â·ì›”Â·ìš”ì¼ ê¸°ì¤€ìœ¼ë¡œ ì‚°ì¶œí•´ ì¶”ì„¸ë¥¼ í™•ì¸")

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Sidebar â€” ì…ë ¥
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
with st.sidebar:
    st.header("âš™ï¸ ì„¤ì •")
    raw_url = st.text_input(
        "GitHub raw íŒŒì¼ URL (xlsx/csv)",
        value="https://raw.githubusercontent.com/<your-org-or-id>/<repo>/main/effective_days_calendar.xlsx",
        help="ê¹ƒí—ˆë¸Œ íŒŒì¼ í˜ì´ì§€ì—ì„œ 'Raw' ë²„íŠ¼ì„ ëˆŒëŸ¬ ë‚˜ì˜¨ ì£¼ì†Œë¥¼ ë¶™ì—¬ë„£ì–´"
    )
    include_holiday = st.checkbox("ê³µíœ´ì¼ í¬í•¨(ê¸ˆìš”ì¼ì´ ê³µíœ´ì¼ì´ì–´ë„ í¬í•¨)", value=False)
    st.caption("â€» ë¯¸ì²´í¬ ì‹œ, ê¸ˆìš”ì¼ì´ ê³µíœ´ì¼ì¸ ë‚ ì€ ê¸ˆìš”ì¼ ì§‘ê³„ì—ì„œ ì œì™¸")

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Utility
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
@st.cache_data(show_spinner=False)
def load_data_from_github(url: str) -> pd.DataFrame:
    """
    GitHub raw URLì—ì„œ xlsx ë˜ëŠ” csvë¥¼ ì½ì–´ DataFrame ë°˜í™˜.
    """
    parsed = urlparse(url)
    if "raw.githubusercontent.com" not in parsed.netloc:
        raise ValueError("raw.githubusercontent.com URLì„ ë„£ì–´ì¤˜")

    if url.lower().endswith(".xlsx") or url.lower().endswith(".xls"):
        df = pd.read_excel(url, engine="openpyxl")
    elif url.lower().endswith(".csv"):
        # í•œê¸€/ì‰¼í‘œ ê°€ëŠ¥ì„±: encoding='cp949' ì‹œë„ í›„ utf-8ë¡œ í´ë°±
        try:
            df = pd.read_csv(url, encoding="cp949")
        except:
            df = pd.read_csv(url, encoding="utf-8")
    else:
        raise ValueError("ì§€ì› í™•ì¥ì: .xlsx, .xls, .csv")

    return df

def to_numeric_maybe_comma(x):
    if pd.isna(x):
        return np.nan
    if isinstance(x, (int, float, np.number)):
        return x
    s = str(x)
    s = s.replace(",", "")  # "223,034,735" â†’ "223034735"
    # í•œêµ­ì–´ ì—‘ì…€ì—ì„œ ì†Œìˆ˜ì ì€ '.' ê°€ì •
    try:
        return float(s)
    except:
        return np.nan

# ìš”ì¼ ì •ë ¬ ìœ ì§€ìš©
WEEK_ORDER = ["ì›”","í™”","ìˆ˜","ëª©","ê¸ˆ","í† ","ì¼"]

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Load
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
try:
    df = load_data_from_github(raw_url)
    st.success("ë°ì´í„° ë¡œë”© ì™„ë£Œ")
except Exception as e:
    st.error(f"ë°ì´í„° ë¡œë”© ì‹¤íŒ¨: {e}")
    st.stop()

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# ì»¬ëŸ¼ í‘œì¤€í™” (í•„ìš” ì»¬ëŸ¼: ë‚ ì§œ, ì—°, ì›”, ìš”ì¼, ê³µíœ´ì¼ì—¬ë¶€, ê³µê¸‰ëŸ‰(MJ))
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
col_map = {c.strip(): c.strip() for c in df.columns}
df.columns = list(col_map.keys())

required = ["ë‚ ì§œ","ì—°","ì›”","ìš”ì¼","ê³µíœ´ì¼ì—¬ë¶€","ê³µê¸‰ëŸ‰(MJ)"]
missing = [c for c in required if c not in df.columns]
if missing:
    st.error(f"í•„ìˆ˜ ì»¬ëŸ¼ ëˆ„ë½: {missing}")
    st.stop()

# ë‚ ì§œ íŒŒì‹±
# ë‚ ì§œê°€ 'YYYYMMDD' ë˜ëŠ” 'YYYY-MM-DD'ë¡œ ì˜¨ë‹¤ê³  ê°€ì •
def parse_date(x):
    s = str(x)
    s = s.strip()
    if re.fullmatch(r"\d{8}", s):
        return pd.to_datetime(s, format="%Y%m%d")
    else:
        return pd.to_datetime(s, errors="coerce")

df["ë‚ ì§œ_dt"] = df["ë‚ ì§œ"].apply(parse_date)
if df["ë‚ ì§œ_dt"].isna().all():
    st.error("ë‚ ì§œ ì»¬ëŸ¼ íŒŒì‹± ì‹¤íŒ¨(í˜•ì‹ ì ê²€ í•„ìš”)")
    st.stop()

# ìˆ«ì ë³€í™˜
df["ì—°"] = pd.to_numeric(df["ì—°"], errors="coerce").astype("Int64")
df["ì›”"] = pd.to_numeric(df["ì›”"], errors="coerce").astype("Int64")
df["ê³µê¸‰ëŸ‰(MJ)"] = df["ê³µê¸‰ëŸ‰(MJ)"].apply(to_numeric_maybe_comma)

# ìš”ì¼/ê³µíœ´ì¼ ì •ë¦¬
df["ìš”ì¼"] = df["ìš”ì¼"].astype(str).str.strip()
df["ê³µíœ´ì¼ì—¬ë¶€"] = df["ê³µíœ´ì¼ì—¬ë¶€"].astype(str).str.upper().isin(["TRUE","1","T","Y","YES"])

# ê¸ˆìš”ì¼ í•„í„°ì—ì„œ ê³µíœ´ì¼ ì œì™¸ ì˜µì…˜
if include_holiday:
    is_fri = (df["ìš”ì¼"] == "ê¸ˆ")
else:
    is_fri = (df["ìš”ì¼"] == "ê¸ˆ") & (~df["ê³µíœ´ì¼ì—¬ë¶€"])

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# ì›”ë³„ ì´ê³µê¸‰ëŸ‰ & ê¸ˆìš”ì¼ ê³µê¸‰ëŸ‰
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
grp_total = df.groupby(["ì—°","ì›”"], dropna=False)["ê³µê¸‰ëŸ‰(MJ)"].sum().rename("ì›”ì´ê³µê¸‰ëŸ‰")
grp_fri   = df[is_fri].groupby(["ì—°","ì›”"], dropna=False)["ê³µê¸‰ëŸ‰(MJ)"].sum().rename("ê¸ˆìš”ì¼ê³µê¸‰ëŸ‰")

merged = pd.concat([grp_total, grp_fri], axis=1).fillna(0.0).reset_index()
merged["ê¸ˆìš”ì¼ë¹„ì¤‘(%)"] = np.where(merged["ì›”ì´ê³µê¸‰ëŸ‰"]>0,
                                merged["ê¸ˆìš”ì¼ê³µê¸‰ëŸ‰"]/merged["ì›”ì´ê³µê¸‰ëŸ‰"]*100, np.nan)

# ì—°ë„ ì„ íƒ
years_all = [int(y) for y in sorted(merged["ì—°"].dropna().unique())]
with st.sidebar:
    sel_years = st.multiselect("ì—°ë„ ì„ íƒ", options=years_all, default=years_all)
    st.caption("ì„ íƒí•œ ì—°ë„ë§Œ ì‹œê°í™”/ì§‘ê³„ì— ë°˜ì˜")

view = merged[merged["ì—°"].isin(sel_years)].copy()

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# ìš”ì•½ ì¹´ë“œ(ì„ íƒì—°ë„ ì „ì²´)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
col1, col2, col3 = st.columns(3)
overall_mean = view["ê¸ˆìš”ì¼ë¹„ì¤‘(%)"].mean(skipna=True)
overall_median = view["ê¸ˆìš”ì¼ë¹„ì¤‘(%)"].median(skipna=True)
n_months = view["ê¸ˆìš”ì¼ë¹„ì¤‘(%)"].notna().sum()
col1.metric("í‰ê·  ê¸ˆìš”ì¼ ë¹„ì¤‘(%)", f"{overall_mean:,.2f}")
col2.metric("ì¤‘ì•™ê°’(%)", f"{overall_median:,.2f}")
col3.metric("ë¶„ì„ ì›” ìˆ˜", f"{n_months}")

st.markdown("---")

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# (1) íˆíŠ¸ë§µ: ì—°(í–‰) Ã— ì›”(ì—´) ê¸ˆìš”ì¼ ë¹„ì¤‘
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
pivot = view.pivot_table(index="ì—°", columns="ì›”", values="ê¸ˆìš”ì¼ë¹„ì¤‘(%)", aggfunc="mean")
pivot = pivot.reindex(index=sorted(pivot.index), columns=range(1,13))  # ì›” 1~12 ì •ë ¬

st.subheader("ğŸ§Š ì—°Â·ì›” íˆíŠ¸ë§µ (ê¸ˆìš”ì¼ ë¹„ì¤‘ %)")
fig_hm, ax = plt.subplots(figsize=(12, max(2.5, 0.35*len(pivot.index))))
im = ax.imshow(pivot.values, aspect="auto")
ax.set_yticks(range(len(pivot.index))); ax.set_yticklabels(pivot.index)
ax.set_xticks(range(12)); ax.set_xticklabels(range(1,13))
ax.set_xlabel("ì›”"); ax.set_ylabel("ì—°")
# ê°’ ì£¼ì„
for i in range(pivot.shape[0]):
    for j in range(pivot.shape[1]):
        v = pivot.values[i,j]
        if pd.notna(v):
            ax.text(j, i, f"{v:.1f}", ha="center", va="center", fontsize=9)
cbar = fig_hm.colorbar(im, ax=ax)
cbar.set_label("ê¸ˆìš”ì¼ ë¹„ì¤‘(%)")
st.pyplot(fig_hm)
st.caption("ìƒ‰ì´ ì˜…ì–´ì§€ê±°ë‚˜ ê°’ì´ ë‚®ì•„ì§€ëŠ” ì—°Â·ì›” êµ¬ê°„ì´ ëˆ„ì ë˜ë©´ ê¸ˆìš”ì¼ ë¹„ì¤‘ì´ í•˜ë½ ì¶”ì„¸ì¼ ê°€ëŠ¥ì„±ì´ í¼")

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# (2) ë¼ì¸ ê·¸ë˜í”„: ì—°ë„ë³„ ì›” ê¸ˆìš”ì¼ ë¹„ì¤‘
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
st.subheader("ğŸ“ˆ ì—°ë„ë³„ ì›” ê¸ˆìš”ì¼ ë¹„ì¤‘(%)")
fig_ln, ax2 = plt.subplots(figsize=(12,4))
for y in sorted(view["ì—°"].unique()):
    s = view[view["ì—°"]==y].sort_values("ì›”")
    ax2.plot(s["ì›”"], s["ê¸ˆìš”ì¼ë¹„ì¤‘(%)"], marker="o", label=str(int(y)))
ax2.set_xlabel("ì›”"); ax2.set_ylabel("ê¸ˆìš”ì¼ ë¹„ì¤‘(%)")
ax2.set_xticks(range(1,13))
ax2.grid(True, alpha=0.3)
ax2.legend(ncol=6, fontsize=8, frameon=False)
st.pyplot(fig_ln)

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# (3) ì—°ë„ë³„ ì¶”ì„¸ ê¸°ìš¸ê¸° (ë‹¨ìˆœì„ í˜•íšŒê·€)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
rows = []
for y in sorted(view["ì—°"].unique()):
    s = view[view["ì—°"]==y].dropna(subset=["ì›”","ê¸ˆìš”ì¼ë¹„ì¤‘(%)"]).sort_values("ì›”")
    if len(s)>=3:
        # x=ì›”(1~12), y=ë¹„ì¤‘(%)
        x = s["ì›”"].to_numpy()
        yv = s["ê¸ˆìš”ì¼ë¹„ì¤‘(%)"].to_numpy()
        # ìµœì†Œì œê³± ì§ì„  y = a*x + b
        a = np.polyfit(x, yv, 1)[0]
        rows.append({"ì—°": int(y), "ì›”-ê¸°ìš¸ê¸°(pp/ì›”)": a, "ì—°ê°„ë³€í™”ì¶”ì •(pp/ë…„)": a*11})
trend_df = pd.DataFrame(rows)
st.subheader("ğŸ“‰ ì—°ë„ë³„ ê¸ˆìš”ì¼ ë¹„ì¤‘ ì¶”ì„¸(ê¸°ìš¸ê¸°)")
st.dataframe(trend_df.style.format({"ì›”-ê¸°ìš¸ê¸°(pp/ì›”)":"{:.3f}", "ì—°ê°„ë³€í™”ì¶”ì •(pp/ë…„)":"{:.2f}"}), use_container_width=True)
st.caption("ì—°ê°„ë³€í™”ì¶”ì •ì€ ì›” ê¸°ìš¸ê¸°ì— 11ì„ ê³±í•œ ê·¼ì‚¬(1â†’12ì›”). ìŒìˆ˜ë©´ í•˜ë½ ì¶”ì„¸ë¡œ í•´ì„")

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# (4) ìƒì„¸ í…Œì´ë¸” & ë‹¤ìš´ë¡œë“œ
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
st.subheader("ğŸ“„ ì›”ë³„ ê¸ˆìš”ì¼ ë¹„ì¤‘(%) ìƒì„¸")
show = view.sort_values(["ì—°","ì›”"]).copy()
st.dataframe(show.style.format({"ì›”ì´ê³µê¸‰ëŸ‰":"{:,.0f}","ê¸ˆìš”ì¼ê³µê¸‰ëŸ‰":"{:,.0f}","ê¸ˆìš”ì¼ë¹„ì¤‘(%)":"{:.2f}"}), use_container_width=True)

csv = show.to_csv(index=False, encoding="utf-8-sig")
st.download_button("CSV ë‹¤ìš´ë¡œë“œ (ì„ íƒì—°ë„)", data=csv, file_name="friday_share_by_month.csv", mime="text/csv")

# ì£¼ì˜/ì „ì œ
with st.expander("ë°ì´í„°/ê³„ì‚° ì „ì œ"):
    st.markdown("""
- 'ê¸ˆìš”ì¼' íŒì •ì€ `ìš”ì¼=='ê¸ˆ'` ê¸°ì¤€ì´ë©°, **ê³µíœ´ì¼ ì œì™¸ ì˜µì…˜**ì´ êº¼ì ¸ ìˆìœ¼ë©´ ê³µíœ´ì¼ ê¸ˆìš”ì¼ë„ í¬í•¨ë¨.
- ì›”ì´ê³µê¸‰ëŸ‰ì€ í•´ë‹¹ ì›” ëª¨ë“  ì¼ì í•©(ê³µíœ´ì¼ í¬í•¨).
- ê³µê¸‰ëŸ‰ì€ ì‰¼í‘œ ì œê±° í›„ ì‹¤ìˆ˜í˜•ìœ¼ë¡œ ë³€í™˜í•´ í•©ì‚°.
- íˆíŠ¸ë§µ ê°’ì€ **ì›”ë³„ ê¸ˆìš”ì¼ ë¹„ì¤‘ì˜ í‰ê· (ì„ íƒì—°ë„)**.
""")
